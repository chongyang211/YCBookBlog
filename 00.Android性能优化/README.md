# 专栏笔记总结大全



## 04.ANR监控设计实践

- 什么是ANR：程序无响应。Android系统对于一些事件需要在一定的时间范围内完成，如果超过预定时间能未能得到有效响应或者响应时间过长，都会造成ANR。
- 为什么要设计ANR：用于检测和处理应用程序无响应的情况。尽管ANR对用户来说可能是一种不愉快的体验，但它的设计是为了确保应用程序的稳定性和用户体验。
- ANR产生条件是什么：主线程超时阻塞；只要在这个时间上限内没有响应就会ANR；输入事件/特定操作没有及时响应也会导致ANR
- ANR触发条件有哪些：1.UI线程在5秒无法响应用户的输入事件；2.广播接收器在10秒钟内无法完成处理；3.服务在20秒钟内无法完成处理；4.输入事件队列阻塞
- 四大组件触发ANR大概步骤：大概是：埋下注册超时 ----> 触发超时 ----> 引发超时ANR
- ANR后执行流程是什么：1.四大组件发生ANR；2.进程接收异常终止信号，开始写入进程ANR信息；3.弹出ANR提示框，提示用户关闭APP或者继续等待
- 极端情况不会ANR有哪些：进程正在处于正在关闭的状态，正在crash的状态，被kill的状态，或者相同进程已经处在ANR的流程中。














