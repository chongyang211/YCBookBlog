# 专栏笔记总结大全



## 04.ANR监控设计实践

- 什么是ANR：程序无响应。Android系统对于一些事件需要在一定的时间范围内完成，如果超过预定时间能未能得到有效响应或者响应时间过长，都会造成ANR。
- 为什么要设计ANR：用于检测和处理应用程序无响应的情况。尽管ANR对用户来说可能是一种不愉快的体验，但它的设计是为了确保应用程序的稳定性和用户体验。
- ANR产生条件是什么：主线程超时阻塞；只要在这个时间上限内没有响应就会ANR；输入事件/特定操作没有及时响应也会导致ANR
- ANR触发条件有哪些：1.UI线程在5秒无法响应用户的输入事件；2.广播接收器在10秒钟内无法完成处理；3.服务在20秒钟内无法完成处理；4.输入事件队列阻塞
- 四大组件触发ANR大概步骤：大概是：埋下注册超时 ----> 触发超时 ----> 引发超时ANR
- ANR后执行流程是什么：1.四大组件发生ANR；2.进程接收异常终止信号，开始写入进程ANR信息；3.弹出ANR提示框，提示用户关闭APP或者继续等待
- 极端情况不会ANR有哪些：进程正在处于正在关闭的状态，正在crash的状态，被kill的状态，或者相同进程已经处在ANR的流程中。
- ANR静默和弹窗设计是什么：如何是后台ANR则直接静默杀死App，如果是前台ANR则是弹出系统弹窗提示用户
- 处理ANR信息收集是如何做的：通过分析ANR日志、Traces文件和ANR报告，开发者可以了解ANR发生时的上下文、线程状态和执行情况，从而进行故障排查和性能优化。
- 什么是输入系统：



## 10.高性能图片优化方案

- 1.1 为什么说图片比较占用内存：一个手机拍摄的 2700 * 1900 像素的照片，需要 5.1M 的存储空间，但是在图像解码配置 ARGB_8888 时，它加载到内存需要 19.6M 内存空间
- 1.2 加载网络图片大概流程：1.获取网络资源文件流；2.decodeStream加载到bitmap中；3.然后压缩图片；4.然后处理图片变换；5.图片缓存策略；6.异步加载后渲染到View上
- 














